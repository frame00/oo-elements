<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
</head>
<body>
	<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
	<script>
		const config = {
			apiKey: "AIzaSyD_7hyu6yjfwy18RzJ1Msg6FS0QLBSzbq4",
			authDomain: "ooapp-6c046.firebaseapp.com",
			databaseURL: "https://ooapp-6c046.firebaseio.com",
			projectId: "ooapp-6c046",
			storageBucket: "ooapp-6c046.appspot.com",
			messagingSenderId: "90122914908"
		}
		firebase.initializeApp(config)

		const search = window.location.search
		let provider
		switch (search) {
			case '?google':
				provider = new firebase.auth.GoogleAuthProvider()
				break
			case '?facebook':
				provider = new firebase.auth.FacebookAuthProvider()
				break
			case '?github':
				provider = new firebase.auth.GithubAuthProvider()
				break
			default:
				break
		}
		if (provider) {
			firebase.auth().signInWithPopup(provider).then(result => {
				window.dispatchEvent(new CustomEvent('success', {detail: result}))
			}).catch(err => {
				window.dispatchEvent(new CustomEvent('fail', {detail: err}))
			})
		}
	</script>
</body>
</html>
